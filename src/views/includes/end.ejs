<script>
    const user = JSON.parse('<%- JSON.stringify(user) %>');
    let POSTS;
</script>
<script src="/js/main.min.js"></script>
<script src="/js/script.js"></script>
<script src="/js/toast-notificatons.js"></script>
<script src="https://momentjs.com/downloads/moment.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script src="/js/client/logout.js"></script>

<!-- helpers -->
<script src="/js/client/helpers/cookie.helper.js"></script>
<script src="/js/client/helpers/post.helper.js"></script>
<script src="/js/client/helpers/comment.helper.js"></script>
<script src="/js/client/helpers/message.helper.js"></script>
<script src="/js/client/helpers/user.helper.js"></script>
<script src="/js/client/helpers/notification.helper.js"></script>
<!-- events -->
<script src="/js/client/events/post.event.js"></script>
<script src="/js/client/events/comment.event.js"></script>
<script src="/js/client/events/message.event.js"></script>
<script src="/js/client/events/notification.event.js"></script>
<script src="/js/client/events/user.event.js"></script>
<script>
    //Returns true if it is a DOM node
    function isNode(o) {
        return (
            typeof Node === "object" ? o instanceof Node :
                o && typeof o === "object" && typeof o.nodeType === "number" && typeof o.nodeName === "string"
        );
    }

    //Returns true if it is a DOM element    
    function isElement(o) {
        return (
            typeof HTMLElement === "object" ? o instanceof HTMLElement : //DOM2
                o && typeof o === "object" && o !== null && o.nodeType === 1 && typeof o.nodeName === "string"
        );
    }
    if (!window.location.href.includes('auth')) {
        var socket = io('http://localhost:8080');
        socket.emit("addOnlineUser", user);
    }


    const userEvent = new UserEvent();
    userEvent.handleRenderNotifications()



    // Render, Update unread messge
    // const messgeEvent = new MessageEvent();
    // messgeEvent.handleRenderMessagerMessage()

</script>
<script src="/js/client/events/socket.event.js"></script>